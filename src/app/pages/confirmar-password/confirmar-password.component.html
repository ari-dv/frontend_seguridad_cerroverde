<div class="main-container">
  <div class="login-container mat-elevation-z4">
    <!-- Fondo minimal con bolitas -->
    <div class="bg-dots">
      <span></span>
      <span></span>
    </div>

    <mat-card>
      <mat-card-header>
        <img src="assets/logo.png" alt="Logo" />
        <p>Restablecer tu contraseña</p>
      </mat-card-header>

      <mat-card-content>
        <div class="logo-container text-center">
          <form (ngSubmit)="formSubmit()">

            <!-- Contraseña nueva -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Contraseña nueva</mat-label>
              <input
                matInput
                [(ngModel)]="nuevaClave"
                required
                name="password"
                [type]="hideNueva ? 'password' : 'text'"
                placeholder="Digite su nueva contraseña"
              />
              <span matSuffix class="password-actions">
                <!-- Mostrar / ocultar -->
                <button
                  mat-icon-button
                  type="button"
                  (click)="hideNueva = !hideNueva"
                  aria-label="Mostrar/Ocultar contraseña"
                >
                  <mat-icon>{{ hideNueva ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>
                <!-- Generar contraseña -->
                <button
                  mat-icon-button
                  type="button"
                  (click)="generarPassword()"
                  title="Generar contraseña"
                  aria-label="Generar contraseña"
                >
                  <mat-icon>autorenew</mat-icon>
                </button>
              </span>
            </mat-form-field>

            <!-- Confirmar contraseña -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Confirme su contraseña</mat-label>
              <input
                matInput
                [(ngModel)]="confirmarClave"
                required
                name="confirmPassword"
                [type]="hideConfirmar ? 'password' : 'text'"
                placeholder="Digite su contraseña"
              />
              <button
                type="button"
                mat-icon-button
                matSuffix
                (click)="hideConfirmar = !hideConfirmar"
                aria-label="Mostrar/Ocultar contraseña"
              >
                <mat-icon>{{ hideConfirmar ? "visibility_off" : "visibility" }}</mat-icon>
              </button>
            </mat-form-field>

            <!-- Mensaje de error -->
            <div *ngIf="mensajeError" class="error-message">
              {{ mensajeError }}
            </div>

            <!-- Botón enviar -->
            <button mat-raised-button color="primary" type="submit" class="full-width">
              Enviar
            </button>
          </form>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="cont-img">
    <img src="assets/habitaciones.jpg" alt="Habitación" />
  </div>
</div>
